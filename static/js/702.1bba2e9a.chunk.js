"use strict";(self.webpackChunk_3d_examples=self.webpackChunk_3d_examples||[]).push([[702],{7702:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(5671),a=t(3144),o=t(136),r=t(4062),s=t(7313),d=t(3562),l=function(e){(0,o.Z)(t,e);var n=(0,r.Z)(t);function t(e){return(0,i.Z)(this,t),n.call(this,e)}return(0,a.Z)(t,[{key:"load",value:function(e,n,t,i){var a=this,o=new d.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,(function(e){var t;try{t=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),t=JSON.parse(e.substring(65,e.length-2))}var i=a.parse(t);n&&n(i)}),t,i)}},{key:"parse",value:function(e){return new c(e)}}]),t}(d.aNw),c=function(){function e(n){(0,i.Z)(this,e),this.type="Font",this.data=n}return(0,a.Z)(e,[{key:"generateShapes",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=[],i=h(e,n,this.data),a=0,o=i.length;a<o;a++)Array.prototype.push.apply(t,i[a].toShapes());return t}}]),e}();function h(e,n,t){for(var i=Array.from(e),a=n/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*a,r=[],s=0,d=0,l=0;l<i.length;l++){var c=i[l];if("\n"===c)s=0,d-=o;else{var h=u(c,a,s,d,t);s+=h.offsetX,r.push(h.path)}}return r}function u(e,n,t,i,a){var o=a.glyphs[e]||a.glyphs["?"];if(o){var r,s,l,c,h,u,v,w,f=new d.T_1;if(o.o)for(var p=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,m=p.length;g<m;){switch(p[g++]){case"m":r=p[g++]*n+t,s=p[g++]*n+i,f.moveTo(r,s);break;case"l":r=p[g++]*n+t,s=p[g++]*n+i,f.lineTo(r,s);break;case"q":l=p[g++]*n+t,c=p[g++]*n+i,h=p[g++]*n+t,u=p[g++]*n+i,f.quadraticCurveTo(h,u,l,c);break;case"b":l=p[g++]*n+t,c=p[g++]*n+i,h=p[g++]*n+t,u=p[g++]*n+i,v=p[g++]*n+t,w=p[g++]*n+i,f.bezierCurveTo(h,u,v,w,l,c)}}return{offsetX:o.ha*n,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".")}c.prototype.isFont=!0;var v=t(2963),w=function(e){(0,o.Z)(t,e);var n=(0,r.Z)(t);function t(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,t);var r=o.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),(0,v.Z)(a,new d.u9r);var s=r.generateShapes(e,o.size);return o.depth=void 0!==o.height?o.height:50,void 0===o.bevelThickness&&(o.bevelThickness=10),void 0===o.bevelSize&&(o.bevelSize=8),void 0===o.bevelEnabled&&(o.bevelEnabled=!1),(a=n.call(this,s,o)).type="TextGeometry",a}return(0,a.Z)(t)}(d.O7d),f=t(1935),p=t(6938),g=t(7107),m=t(6417),b=function(e){(0,o.Z)(t,e);var n=(0,r.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))).state={backgroundColor:"#164CCA",renderGlithPass:!(window.navigator.userAgent.toLowerCase().indexOf("mobile")>0)},e.initThree=function(){var n=1e4,t=document.getElementById("canvas"),i=new d.CP7({antialias:!0,alpha:!0});i.setPixelRatio(Math.min(2,window.devicePixelRatio)),i.setSize(window.innerWidth,window.innerHeight),i.setClearAlpha(0),t.appendChild(i.domElement);var a=new d.xsS;a.fog=new d.ybr(15658734,0,100);var o=new d.cPb(70,window.innerWidth/window.innerHeight,.1,n);o.position.set(-2e4,0,780);var r=new f.xC(i);r.addPass(new p.C(a,o));var s=new g.C;r.addPass(s),window.addEventListener("resize",(function(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),r.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("dblclick",(function(){document.fullscreenElement||document.webkitFullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),a.background="",r.render()):(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(),a.background=new d.Ilk(e.state.backgroundColor))}));var c=new d.Kj0;(new l).load("./fonts/helvetiker_regular.typeface.json",(function(e){c.geometry=new w("@dragonir\nfantastic\nthree.js\nart work",{font:e,size:100,height:40,curveSegments:12,bevelEnabled:!0,bevelThickness:30,bevelSize:8,bevelOffset:1,bevelSegments:12}),c.material=k,c.position.x=-240,c.position.z=-120,a.add(c)}));var h=0,u=0,v={windowHalfX:window.innerWidth/2,windowHalfY:window.innerHeight/2,coordinates:function(e,n){h=5*(e-v.windowHalfX),u=5*(n-v.windowHalfY)},onMouseMove:function(e){v.coordinates(e.clientX,e.clientY)},onTouchMove:function(e){v.coordinates(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}};document.addEventListener("mousemove",v.onMouseMove,!1),document.addEventListener("touchmove",v.onTouchMove,!1);var m=function(e,t,i){for(var a=0;a<i;a++){var o=new d.Kj0(e,t),r=n/3,s=2*r;o.position.x=Math.random()*s-r,o.position.y=Math.random()*s-r,o.position.z=Math.random()*s-r,o.rotation.x=2*Math.random()*Math.PI,o.rotation.y=2*Math.random()*Math.PI,o.rotation.z=2*Math.random()*Math.PI,o.matrixAutoUpdate=!1,o.updateMatrix(),b.add(o)}},b=new d.ZAu,x=new d.REq(80),k=new d.RSm;m(x,k,100),m(new d.Cne(40,25,16,40),k,200),m(new d._3(40,80,80),k,100),a.add(b);!function n(){requestAnimationFrame(n),o.position.x+=.05*(h-o.position.x),o.position.y+=.05*(-1*u-o.position.y),o.lookAt(a.position);var t=.001*Date.now(),s=.5*Math.sin(.7*t),d=.5*Math.sin(.3*t),l=.5*Math.sin(.2*t);b.rotation.x=s,b.rotation.y=d,b.rotation.z=l,c.rotation.x=s,c.rotation.y=d,c.rotation.z=s,i.render(a,o),e.state.renderGlithPass&&r.render()}()},e.handleInputChange=function(n){e.setState({backgroundColor:n.target.value})},e.handleRenderChange=function(){e.setState({renderGlithPass:!e.state.renderGlithPass})},e}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){this.initThree()}},{key:"render",value:function(){return(0,m.jsxs)("div",{className:"floating_page",style:{backgroundColor:this.state.backgroundColor},children:[(0,m.jsx)("div",{id:"canvas"}),(0,m.jsx)("input",{className:"color_pick",type:"color",onChange:this.handleInputChange,value:this.state.backgroundColor}),(0,m.jsxs)("button",{className:"pass_button",onClick:this.handleRenderChange,children:["\u7279\u6548",(0,m.jsx)("span",{className:"highlight",children:this.state.renderGlithPass?"\u5f00":"\u5173"})]}),(0,m.jsx)("div",{className:"meta",children:(0,m.jsxs)("a",{className:"github",href:"https://github.com/dragonir/3d",target:"_blank",rel:"noreferrer",children:[(0,m.jsx)("svg",{height:"32","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1",width:"32","data-view-component":"true",children:(0,m.jsx)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),(0,m.jsx)("span",{className:"text",children:"@dragonir"})]})})]})}}]),t}(s.Component)}}]);