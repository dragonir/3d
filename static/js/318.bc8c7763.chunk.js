(self.webpackChunk_3d_examples=self.webpackChunk_3d_examples||[]).push([[318],{5132:function(e,t){!function(e){"use strict";function t(){return c||"undefined"!=typeof window&&(c=window.gsap)&&c.registerPlugin&&c}function a(e){return Math.round(1e4*e)/1e4}function i(){return String.fromCharCode.apply(null,arguments)}function n(e){c=e||t(),s||(o=c.utils.getUnit,s=1)}function f(e,t,a,i,n){var f=e._gsap,c=f.get(e,t);this.p=t,this.set=f.set(e,t),this.s=this.val=parseFloat(c),this.u=o(c)||0,this.vel=a||0,this.v=this.vel/n,i||0===i?(this.acc=i,this.a=this.acc/(n*n)):this.acc=this.a=0}var c,s,o,d=Math.PI/180,r=(i(103,114,101,101,110,115,111,99,107,46,99,111,109),window&&window.location.host,{version:"3.8.0",name:"physics2D",register:n,init:function(e,t,a){s||n();var i=this,c=+t.angle||0,o=+t.velocity||0,r=+t.acceleration||0,h=t.xProp||"x",b=t.yProp||"y",l=t.accelerationAngle||0===t.accelerationAngle?+t.accelerationAngle:c;i.target=e,i.tween=a,i.step=0,i.sps=30,t.gravity&&(r=+t.gravity,l=90),c*=d,l*=d,i.fr=1-(+t.friction||0),i._props.push(h,b),i.xp=new f(e,h,Math.cos(c)*o,Math.cos(l)*r,i.sps),i.yp=new f(e,b,Math.sin(c)*o,Math.sin(l)*r,i.sps),i.skipX=i.skipY=0},render:function(e,t){var i,n,f,c,s,o,d=t.xp,r=t.yp,h=t.tween,b=t.target,l=t.step,p=t.sps,u=t.fr,m=t.skipX,v=t.skipY,w=h._from?h._dur-h._time:h._time;if(1===u)f=w*w*.5,i=d.s+d.vel*w+d.acc*f,n=r.s+r.vel*w+r.acc*f;else{for(c=o=(0|(w*=p))-l,o<0&&(d.v=d.vel/p,r.v=r.vel/p,d.val=d.s,r.val=r.s,c=o=(t.step=0)|w),s=w%1*u;o--;)d.v+=d.a,r.v+=r.a,d.v*=u,r.v*=u,d.val+=d.v,r.val+=r.v;i=d.val+d.v*s,n=r.val+r.v*s,t.step+=c}m||d.set(b,d.p,a(i)+d.u),v||r.set(b,r.p,a(n)+r.u)},kill:function(e){this.xp.p===e&&(this.skipX=1),this.yp.p===e&&(this.skipY=1)}});t()&&c.registerPlugin(r),e.Physics2DPlugin=r,e.default=r,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default}(t)},2318:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var i=a(1413),n=a(5671),f=a(3144),c=a(136),s=a(9388),o=a(7313),d=a(3562),r=a(2518),h=a(644),b=a(1800),l=a(3589),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.Z)(this,e),this.parent=t.parent,this.text=t.text,this.position=t.position||new d.Pa4,this.material=t.material,this.textOptions=t.textOptions,this.animation=t.animation,this.initializeDelay=t.initializeDelay||2,this.onLoad=t.onLoad,this.meshes=[],this.loadFont()}return(0,f.Z)(e,[{key:"loadFont",value:function(){var e=this;(new b.J).load("./fonts/helvetiker_regular.typeface.json",(function(t){e.font=t,e.init(),"function"===typeof e.onLoad&&e.onLoad()}))}},{key:"init",value:function(){for(var e=this.text.split(""),t=this.textOptions.spacing,a=this.textOptions.size,i=a*t/100*e.length/2,n=0;n<e.length;n++)this.addLetter({text:e[n],position:new d.Pa4(this.position.x+(n*t-i),this.position.y,this.position.z),textOptions:{font:this.font,size:a,height:a/4,curveSegments:100,bevelEnabled:!0,bevelThickness:10,bevelSize:10,bevelOffset:2,bevelSegments:10}});this.meshesPosition=this.meshes.map((function(e){return e.position})),this.meshesRotation=this.meshes.map((function(e){return e.rotation})),this.initAnimation()}},{key:"addLetter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new h.M(e.text,e.textOptions);t.center();var a=new d.kaV((0,i.Z)((0,i.Z)({},this.material),{},{flatShading:d.wcA})),n=new d.Kj0(t,a);n.position.set(e.position.x,e.position.y,e.position.z),this.parent.add(n),this.meshes.push(n)}},{key:"initAnimation",value:function(){var e=this;l.ZP.timeline({delay:1,defaults:{duration:this.initializeDelay,ease:"elastic.out(1, .75)",stagger:.1},onComplete:function(){e[e.animation]()}}).from(this.meshesPosition,{z:1e3},"start").from(this.meshesRotation,{x:2*Math.PI},"start")}},{key:"upDownFlip",value:function(){l.ZP.timeline({repeat:-1,defaults:{duration:2,ease:"elastic.out(1, .75)",stagger:.1}}).to(this.meshesPosition,{y:this.meshesPosition[0].y-30},"start").to(this.meshesRotation,{x:2*Math.PI},"start").to(this.meshesPosition,{y:this.meshesPosition[0].y},"end").to(this.meshesRotation,{x:4*Math.PI},"end")}},{key:"zoomAndFlip",value:function(){l.ZP.timeline({repeat:-1,defaults:{duration:2,ease:"elastic.out(1.2, 1)",stagger:.1}}).to(this.meshesPosition,{z:this.meshesPosition[0].z+100},"start").to(this.meshesRotation,{duration:2,y:2*Math.PI},"start").to(this.meshesRotation,{duration:2,y:4*Math.PI},"end").to(this.meshesPosition,{z:this.meshesPosition[0].z},"end")}}]),e}(),u=a(4942),m=[["#69d2e7","#a7dbd8","#e0e4cc","#f38630","#fa6900"],["#fe4365","#fc9d9a","#f9cdad","#c8c8a9","#83af9b"],["#ecd078","#d95b43","#c02942","#542437","#53777a"],["#556270","#4ecdc4","#c7f464","#ff6b6b","#c44d58"],["#774f38","#e08e79","#f1d4af","#ece5ce","#c5e0dc"],["#e8ddcb","#cdb380","#036564","#033649","#031634"],["#490a3d","#bd1550","#e97f02","#f8ca00","#8a9b0f"],["#594f4f","#547980","#45ada8","#9de0ad","#e5fcc2"],["#00a0b0","#6a4a3c","#cc333f","#eb6841","#edc951"],["#e94e77","#d68189","#c6a49a","#c6e5d9","#f4ead5"],["#3fb8af","#7fc7af","#dad8a7","#ff9e9d","#ff3d7f"],["#d9ceb2","#948c75","#d5ded9","#7a6a53","#99b2b7"],["#ffffff","#cbe86b","#f2e9e1","#1c140d","#cbe86b"],["#efffcd","#dce9be","#555152","#2e2633","#99173c"],["#343838","#005f6b","#008c9e","#00b4cc","#00dffc"],["#413e4a","#73626e","#b38184","#f0b49e","#f7e4be"],["#ff4e50","#fc913a","#f9d423","#ede574","#e1f5c4"],["#99b898","#fecea8","#ff847c","#e84a5f","#2a363b"],["#655643","#80bca3","#f6f7bd","#e6ac27","#bf4d28"],["#00a8c6","#40c0cb","#f9f2e7","#aee239","#8fbe00"],["#351330","#424254","#64908a","#e8caa4","#cc2a41"],["#554236","#f77825","#d3ce3d","#f1efa5","#60b99a"],["#5d4157","#838689","#a8caba","#cad7b2","#ebe3aa"],["#8c2318","#5e8c6a","#88a65e","#bfb35a","#f2c45a"],["#fad089","#ff9c5b","#f5634a","#ed303c","#3b8183"],["#ff4242","#f4fad2","#d4ee5e","#e1edb9","#f0f2eb"],["#f8b195","#f67280","#c06c84","#6c5b7b","#355c7d"],["#d1e751","#ffffff","#000000","#4dbce9","#26ade4"],["#1b676b","#519548","#88c425","#bef202","#eafde6"],["#5e412f","#fcebb6","#78c0a8","#f07818","#f0a830"],["#bcbdac","#cfbe27","#f27435","#f02475","#3b2d38"],["#452632","#91204d","#e4844a","#e8bf56","#e2f7ce"],["#eee6ab","#c5bc8e","#696758","#45484b","#36393b"],["#f0d8a8","#3d1c00","#86b8b1","#f2d694","#fa2a00"],["#2a044a","#0b2e59","#0d6759","#7ab317","#a0c55f"],["#f04155","#ff823a","#f2f26f","#fff7bd","#95cfb7"],["#b9d7d9","#668284","#2a2829","#493736","#7b3b3b"],["#bbbb88","#ccc68d","#eedd99","#eec290","#eeaa88"],["#b3cc57","#ecf081","#ffbe40","#ef746f","#ab3e5b"],["#a3a948","#edb92e","#f85931","#ce1836","#009989"],["#300030","#480048","#601848","#c04848","#f07241"],["#67917a","#170409","#b8af03","#ccbf82","#e33258"],["#aab3ab","#c4cbb7","#ebefc9","#eee0b7","#e8caaf"],["#e8d5b7","#0e2430","#fc3a51","#f5b349","#e8d5b9"],["#ab526b","#bca297","#c5ceae","#f0e2a4","#f4ebc3"],["#607848","#789048","#c0d860","#f0f0d8","#604848"],["#b6d8c0","#c8d9bf","#dadabd","#ecdbbc","#fedcba"],["#a8e6ce","#dcedc2","#ffd3b5","#ffaaa6","#ff8c94"],["#3e4147","#fffedf","#dfba69","#5a2e2e","#2a2c31"],["#fc354c","#29221f","#13747d","#0abfbc","#fcf7c5"],["#cc0c39","#e6781e","#c8cf02","#f8fcc1","#1693a7"],["#1c2130","#028f76","#b3e099","#ffeaad","#d14334"],["#a7c5bd","#e5ddcb","#eb7b59","#cf4647","#524656"],["#dad6ca","#1bb0ce","#4f8699","#6a5e72","#563444"],["#5c323e","#a82743","#e15e32","#c0d23e","#e5f04c"],["#edebe6","#d6e1c7","#94c7b6","#403b33","#d3643b"],["#fdf1cc","#c6d6b8","#987f69","#e3ad40","#fcd036"],["#230f2b","#f21d41","#ebebbc","#bce3c5","#82b3ae"],["#b9d3b0","#81bda4","#b28774","#f88f79","#f6aa93"],["#3a111c","#574951","#83988e","#bcdea5","#e6f9bc"],["#5e3929","#cd8c52","#b7d1a3","#dee8be","#fcf7d3"],["#1c0113","#6b0103","#a30006","#c21a01","#f03c02"],["#000000","#9f111b","#b11623","#292c37","#cccccc"],["#382f32","#ffeaf2","#fcd9e5","#fbc5d8","#f1396d"],["#e3dfba","#c8d6bf","#93ccc6","#6cbdb5","#1a1f1e"],["#f6f6f6","#e8e8e8","#333333","#990100","#b90504"],["#1b325f","#9cc4e4","#e9f2f9","#3a89c9","#f26c4f"],["#a1dbb2","#fee5ad","#faca66","#f7a541","#f45d4c"],["#c1b398","#605951","#fbeec2","#61a6ab","#accec0"],["#5e9fa3","#dcd1b4","#fab87f","#f87e7b","#b05574"],["#951f2b","#f5f4d7","#e0dfb1","#a5a36c","#535233"],["#8dccad","#988864","#fea6a2","#f9d6ac","#ffe9af"],["#2d2d29","#215a6d","#3ca2a2","#92c7a3","#dfece6"],["#413d3d","#040004","#c8ff00","#fa023c","#4b000f"],["#eff3cd","#b2d5ba","#61ada0","#248f8d","#605063"],["#ffefd3","#fffee4","#d0ecea","#9fd6d2","#8b7a5e"],["#cfffdd","#b4dec1","#5c5863","#a85163","#ff1f4c"],["#9dc9ac","#fffec7","#f56218","#ff9d2e","#919167"],["#4e395d","#827085","#8ebe94","#ccfc8e","#dc5b3e"],["#a8a7a7","#cc527a","#e8175d","#474747","#363636"],["#f8edd1","#d88a8a","#474843","#9d9d93","#c5cfc6"],["#046d8b","#309292","#2fb8ac","#93a42a","#ecbe13"],["#f38a8a","#55443d","#a0cab5","#cde9ca","#f1edd0"],["#a70267","#f10c49","#fb6b41","#f6d86b","#339194"],["#ff003c","#ff8a00","#fabe28","#88c100","#00c176"],["#ffedbf","#f7803c","#f54828","#2e0d23","#f8e4c1"],["#4e4d4a","#353432","#94ba65","#2790b0","#2b4e72"],["#0ca5b0","#4e3f30","#fefeeb","#f8f4e4","#a5b3aa"],["#4d3b3b","#de6262","#ffb88c","#ffd0b3","#f5e0d3"],["#fffbb7","#a6f6af","#66b6ab","#5b7c8d","#4f2958"],["#edf6ee","#d1c089","#b3204d","#412e28","#151101"],["#9d7e79","#ccac95","#9a947c","#748b83","#5b756c"],["#fcfef5","#e9ffe1","#cdcfb7","#d6e6c3","#fafbe3"],["#9cddc8","#bfd8ad","#ddd9ab","#f7af63","#633d2e"],["#30261c","#403831","#36544f","#1f5f61","#0b8185"],["#aaff00","#ffaa00","#ff00aa","#aa00ff","#00aaff"],["#d1313d","#e5625c","#f9bf76","#8eb2c5","#615375"],["#ffe181","#eee9e5","#fad3b2","#ffba7f","#ff9c97"],["#73c8a9","#dee1b6","#e1b866","#bd5532","#373b44"],["#805841","#dcf7f3","#fffcdd","#ffd8d8","#f5a2a2"]],v=a(5132);l.ZP.registerPlugin(v.Physics2DPlugin);var w=a(6031);function g(e,t,a,i){var n=i-t,f=a-e;return Math.atan2(n,f)*(180/Math.PI)}var P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.Z)(this,e),this.parent=t.parent,this.confettiPoints=t.points,this.firstPopDuration=t.firstPopDuration||2,this.confettiSpriteIds=[],this.confettiSprites={},this.meshes={},this.geometry=new d.BKK(5,5,6),this.init()}return(0,f.Z)(e,[{key:"init",value:function(){this.render=this.render.bind(this),this.pop=this.pop.bind(this),l.ZP.ticker.add(this.render)}},{key:"pop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){for(var t=0;t<e.confettiPoints.length;t++){var a=w.random(100,150),i=w.random(3500,5e3),n=e.confettiPoints[t],f=g(e.confettiPoints[t].x,e.confettiPoints[t].y,e.confettiPoints[t].x,e.confettiPoints[t].y-500);e.addConfettiParticles({amount:a,angle:f,velocity:i,position:n})}}),1e3*t)}},{key:"addConfettiParticles",value:function(e){for(var t=e.amount,a=e.angle,n=e.velocity,f=e.position,c=0;c<t;c++){var s=w.random(4,6),o=w.sample(m),r=w.sample(o),h=w.random(10,-10),b=w.random(.07,.05),l=w.uniqueId(),p=(0,u.Z)({},l,{angle:a,velocity:n,x:f.x,y:f.y,r:s,color:r,tilt:h,tiltAngleIncremental:b,tiltAngle:0});Object.assign(this.confettiSprites,p),this.confettiSpriteIds.push(l),this.tweenConfettiParticle(l),this.material=new d.vBJ({color:new d.Ilk(r),side:d.ehD});var v=new d.Kj0(this.geometry,this.material);v.scale.set(w.random(1.2,1.5),w.random(1.2,1.5),1),v.rotation.set(w.random(20,40),w.random(50,80),w.random(30,60)),this.parent.add(v),this.meshes=(0,i.Z)((0,i.Z)({},this.meshes),{},(0,u.Z)({},l,v))}}},{key:"tweenConfettiParticle",value:function(e){var t=this,a=this.confettiSprites[e].angle-15,i=this.confettiSprites[e].angle+15,n=this.confettiSprites[e].velocity/4,f=this.confettiSprites[e].velocity,c=w.random(n,f),s=w.random(a,i),o=w.random(.1,.25);l.ZP.to(this.confettiSprites[e],6,{physics2D:{velocity:c,angle:s,gravity:1600,friction:o},ease:"power4.easeIn",onComplete:function(){w.pull(t.confettiSpriteIds,e),t.parent.remove(t.meshes[e]),t.meshes[e].material.dispose(),delete t.confettiSprites[e]}})}},{key:"updateConfettiParticle",value:function(e){var t=this.confettiSprites[e],a=5e-4*t.r;t.angle+=.01,t.tiltAngle+=a,t.tiltAngle+=t.tiltAngleIncremental,t.tilt=Math.sin(t.tiltAngle-t.r/2)*t.r*2}},{key:"render",value:function(){var e=this;this.confettiSpriteIds.map((function(t){var a=e.confettiSprites[t];return e.meshes[t].position.x=a.x,e.meshes[t].position.y=-a.y,e.meshes[t].rotation.x=a.angle,e.meshes[t].rotation.y=a.angle+a.tilt/4,e.meshes[t].rotation.z=a.angle,e.updateConfettiParticle(t),!0}))}}]),e}(),y=a(6417),x=new d.dpR,k=function(e){(0,c.Z)(o,e);var t=(0,s.Z)(o);function o(){var e;return(0,n.Z)(this,o),(e=t.call(this)).initThree=function(){var t={width:window.innerWidth,height:window.innerHeight},a=new d.CP7({canvas:document.querySelector("canvas.webgl"),antialias:!0,alpha:!0});a.setPixelRatio(Math.min(window.devicePixelRatio,2)),a.setSize(t.width,t.height),a.toneMapping=d.EoG,e.renderer=a;var n=new d.xsS;e.scene=n;var f=new d.cPb(55,t.width/t.height,.1,1e3);f.position.set(0,0,560),e.camera=f;var c=new r.z(f,a.domElement);c.enableDamping=!0;var s=new d.ZAu,o=new d.kaV({matcap:e.matcaps.logoMatcap,side:d.ehD}),h=new d.Kj0(new d._3(4,4,4),o);s.add(h);var b=new d.Kj0(new d.m_w(6,10,4,4,1),o);b.position.y=-6,s.add(b);var l=new d.Kj0(new d.m_w(12,16,4,4,1),o);l.position.y=-12,s.add(l),s.position.set(0,0,0),s.scale.set(11,11,11),s.rotateY(.2*Math.PI),s.rotateZ(.1*Math.PI),n.add(s),e.confetti=new P({parent:e.sceneGroup,points:[new d.Pa4(-300,300,100),new d.Pa4(0,300,100),new d.Pa4(300,300,100)],firstPopDuration:3.5}),e.textGroup=new d.ZAu;var u={parent:e.textGroup,initializeDelay:3};new p((0,i.Z)((0,i.Z)({},u),{},{text:"1000!",position:new d.Pa4(120,160,-80),textOptions:{size:110,spacing:120},material:{matcap:e.matcaps.textMatcap1},animation:"zoomAndFlip",onLoad:function(){e.confetti.pop(2)}})),new p((0,i.Z)((0,i.Z)({},u),{},{text:"THANK YOU",position:new d.Pa4(-120,-10,-80),textOptions:{size:60,spacing:100},material:{matcap:e.matcaps.textMatcap2,opacity:.75},animation:"upDownFlip"})),e.sceneGroup.add(e.textGroup),e.scene.add(e.sceneGroup);var m=new d.Pa4(0,1,0);!function e(){requestAnimationFrame(e),c&&c.update(),s&&s.rotateOnAxis(m,Math.PI/400),a.render(n,f)}(),window.addEventListener("pointermove",(function(t){t.preventDefault(),e.mousePosition.x=t.clientX,e.mousePosition.y=t.clientY})),window.addEventListener("pointerdown",(function(t){t.preventDefault(),e.confetti&&e.confetti.pop()})),window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight,e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix(),a.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.renderer.setSize(e.width,e.height)}),{passive:!0})},e.width=window.innerWidth,e.height=window.innerHeight,e.sceneGroup=new d.ZAu,e.mousePosition=new d.FM8(window.innerWidth/2,window.innerHeight/2),e.matcaps={logoMatcap:x.load(a(5811)),textMatcap1:x.load(a(8040)),textMatcap2:x.load(a(1063))},e}return(0,f.Z)(o,[{key:"componentDidMount",value:function(){this.initThree()}},{key:"render",value:function(){return(0,y.jsxs)("div",{className:"fans_page",children:[(0,y.jsx)("canvas",{className:"webgl"}),(0,y.jsx)("i",{className:"logo"}),(0,y.jsx)("i",{className:"logo click"}),(0,y.jsxs)("a",{className:"github",href:"https://github.com/dragonir/3d",target:"_blank",rel:"noreferrer",children:[(0,y.jsx)("svg",{height:"36","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1",width:"36","data-view-component":"true",children:(0,y.jsx)("path",{fill:"#2C57EA",fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),(0,y.jsx)("span",{className:"author",children:"dragonir"})]})]})}}]),o}(o.Component)},5811:function(e,t,a){"use strict";e.exports=a.p+"static/media/matcap_0.8058fb339a534516f3ac.png"},8040:function(e,t,a){"use strict";e.exports=a.p+"static/media/matcap_5.5c2f5c8eb6b2513fe28d.png"},1063:function(e,t,a){"use strict";e.exports=a.p+"static/media/matcap_6.398c2d185fe8d3e186fd.png"}}]);